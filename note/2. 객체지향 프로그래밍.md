# Intro.

2장 - 객체지향 프로그래밍

# 1. 영화 예메 시스템

자세한 설명은 생략한다.


# 2. 객체지향 프로그래밍을 향해

네

## 2.1. 협력, 객체, 클래스

1. 어떤 클래스가 필요한지 고민하기 전에 어떤 객체들이 필요한지 고민 -> 어떤 상태와 행동을 가지는지 먼저 결정
2. 객체를 독립적인 존재가 아닌 기능을 구현하기 위해 협력하는 공동체의 일원으로 봐야함

## 2.2. 도메인의 구조를 따르는 프로그램 구조

* 도메인: 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 도메인이라고 부른다.  
* 요구사항을 분석하는 초기 단계부터 프로그램을 구현하는 마지막 단계까지 객체라는 동일한 추상화 기법을 사용할 수 있기 때문에 OOP가 강력함.  
* 클래스의 내부와 외부를 구분해야하는 이유: 경계의 명확성이 객체의 자율성을 보장함

### 2.2.1. 자율적인 객체

1. 객체는 상태(state)와 행동(behavior)를 가짐
2. 스스로 판단하고 행동하는 자율적인 존재

캡슐화: 데이터와 기능을 객체 내부로 함께 묶는 것
접근 제어: 외부로부터의 접근을 통제

캡슐화와 접근 제어는 객체를 두 부분으로 나눔

1. 퍼블릭 인터페이스: 외부에서 접근 가능
2. 구현: 내부에서만 접근 가능한 부분

-> 인터페이스와 구현의 분리

### 2.2.2. 프로그래머의 자유

객체의 내부 외부를 구분하면 개발자가 알아야 할 지식의 양이 줄고, 작성자는 구현 변경을 할 수 있는 폭이 넓어진다.  

## 2.3. 협력하는 객체들의 공동체

객체지향의 장점

- 객체를 이용해 도메인의 의미를 풍부하게 표현할 수 있음
- 비록 하나의 인스턴스 변수만 지니더라도 개념을 명시적으로 표현하는 것이 전체적인 설계의 명확성과 유연성을 높임

## 2.4. 협력에 관한 짧은 이야기

객체의 내부 상태는 외부에서 접근하지 못하도록 감춰야 한다.  
대신 퍼블릭 인터페이스를 통해 내부 상태에 접근할 수 있도록 허용한다.  

객체는 인터페이스에 공개된 행동을 수행하도록 요청받을 수 있고, 그 요청을 처리 후 응답한다.  

> 객체와 다른 객체가 상호작용할 수 있는 유용한 방법은 메세지를 전송하는 것 뿐
> 다른 객체에 요청이 도착할 때 해당 객체가 메세지를 수신했다고 함

수신된 메시지를 처리하기 위한 객체만의 방법을 `메서드(method)`라고 부르는 것!  

메시지와 메서드의 구분에서부터 `다형성(polymorphism)`의 개념이 출발한다.  

# 3. 할인 요금 구하기

네

## 3.1. 할인 요금 계산을 위한 협력 시작하기  

코드를 보면 할인 정책을 판단하는 코드가 존재하지 않는다.  
-> 다형성

## 3.2. 할인 정책과 할인 조건

DiscountPolicy는 추상 메서드로 요금 계산에 필요한 전체적인 흐름은 정의하지만 실제로 계산은 추상 메서드에게 위임한다.  
이는 자식 클래스에서 오버라이딩한 메서드에서 실행되며, 템플릿 메서드 패턴이라고 부른다.  

## 3.3. 할인 정책 구성하기

생성자 파라미터 목록을 이용해 초기화에 필요한 정보를 전달하도록 강제하면 올바른 상태를 가진 객체 생성을 보장할 수 있다.  

# 4. 상속과 다형성

Movie 클래스 어디에도 할인 정책이 금액인지 비율인지 판단하는 부분이 없다.  

## 4.1. 컴파일 시간 의존성과 실행 시간 의존성

어떤 클래스가 다른 클래스에 접근할 수 있는 경로를 가지거나 해당 클래스의 객체 메서드를 호출할 경우 두 클래스 사이에 의존성이 존재한다고 말할 수 있다.  

실행 시간 의존성은 시스템 프로그래밍할 때 많이 봤죠? 생략  

> 코드 의존성과 실행시간 의존성은 다를 수도 있다는 점을 캐치해야 함
> 즉, 트레이드 오프가 됨. 실행 시간 의존성은 가독성은 떨어지지만 유연성과 확장성은 올라감

## 4.2. 차이에 의한 프로그래밍

상속을 이용하면 클래스 사이에 관계를 설정하는 것 만으로 기존 클래스의 모든 속성과 행동을 새 클래스에 포함할 수 있다.  
상속을 이용하면 부모 클래스의 구현을 공유하면서 행동이 다른 자식 클래스를 쉽게 추가할 수 있다.  

이와 같이 상속으로 다른 부분만 추가해 자식 클래스로 확장하는 방법을 `차이에 의한 프로그래밍`이라고 부른다.  

